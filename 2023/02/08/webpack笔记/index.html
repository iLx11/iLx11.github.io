<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <link rel="alternate icon" type="image/png" href="/img/favicon.png">
    <link rel="stylesheet" media="screen and (max-width:700px)" href="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//css/style.css" type="text/css" />
    <link rel="stylesheet" media="screen and (min-width:700px)" href="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//css/stylePC.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//css/reset.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//css/markdown.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//css/fonts.css" type="text/css" />

    <title>
        iLx1 |
            
    </title>
    <!-- 
<link rel="stylesheet" href="/css/reset.css">
 -->
    <!-- 
<link rel="stylesheet" href="/css/markdown.css">
 -->
    <!-- 
<link rel="stylesheet" href="/css/fonts.css">
 -->
<meta name="generator" content="Hexo 5.4.2"></head>
    <style>
        /*页面加载开始*/
        .load {
            display: flex;
            flex-flow: column nowrap;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 35em;
            z-index: 999;
        }

        .loader {
            --path: #323641;
            --dot: #6a95bd;
            --duration: 1.5s;
            width: 55px;
            height: 55px;
            align-items: center;
            justify-items: center;
            position: relative;
        }
        .h-mes {
            width: 100%;
            height: 20%;
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-flow: column nowrap;
            justify-content: space-evenly;
            align-items: center;
        }
        .h-mes span {
            width: 100%;
            height: 10%;
            text-align: center;
        }
        .loader:before {
            content: "";
            width: 6px;
            height: 6px;
            border-radius: 50%;
            position: absolute;
            display: block;
            background: var(--dot);
            top: 37px;
            left: 19px;
            transform: translate(-18px, -18px);
        }

        .loader svg {
            display: block;
            width: 100%;
            height: 100%;
        }

        .loader svg polygon {
            fill: none;
            stroke: var(--path);
            stroke-width: 10px;
            stroke-linejoin: round;
            stroke-linecap: round;
        }

        .loader svg polygon {
            stroke-dasharray: 145 76 145 76;
            stroke-dashoffset: 0;
            animation: pathTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }

        .loader.triangle {
            width: 48px;
        }

        .loader.triangle:before {
            left: 21px;
            transform: translate(-10px, -18px);
            animation: dotTriangle var(--duration) cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
        }
        #noWait {
            color: rgba(51,51,51, 0.4);
            margin-top: 3em;
            cursor: pointer;
            display: none;
        }
        @keyframes pathTriangle {
            33% {
                stroke-dashoffset: 74;
            }

            66% {
                stroke-dashoffset: 147;
            }

            100% {
                stroke-dashoffset: 221;
            }
        }

        @keyframes dotTriangle {
            33% {
                transform: translate(0, 0);
            }

            66% {
                transform: translate(10px, -18px);
            }

            100% {
                transform: translate(-10px, -18px);
            }

        }
    </style>

    <body>
        <!-- 页面加载效果 -->
        <div class="load">
            <div class="loader triangle">
                <svg viewBox="0 0 86 80">
                    <polygon points="43 8 79 72 7 72"></polygon>
                </svg>
            </div>
            <div class="h-mes">
                <span id="chs">" 请稍等一会... "</span>
                <span>Please wait for a long time</span>
                <span id="noWait"><我不等啦！></span>
            </div>
        </div>
        
        <!-- 页面加载结束 -->
        <div class="backg"></div>
        <div class="paper">
            <div class="paper-main">
                
                
                <!-- <div class="bgimg"></div> -->
                <div class="cover"></div>
                <!-- <div class="bgimgB"></div> -->
                
                    <div class="post-header">
    <div class="themePage2">Light</div>
    <a class="logo" href="/">iLx1</a>
    <a class="go-home" href="/">
        <svg width="8" height="14" viewBox="0 0 8 14">
            <path d="M7 1L1 7l6 6" stroke="#fff" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </a>
</div>
                        
                                    <section class="post-struction">
    <div class="post-main">
        
            <div class="post-main-title">
                webpack笔记
            </div>
            <div class="post-meta">
                2023-02-08
            </div>
            
                <hr>
                <div class="post-md">
                    <h1 id="使用webpack打包TS"><a href="#使用webpack打包TS" class="headerlink" title="使用webpack打包TS"></a>使用webpack打包TS</h1><h3 id="下载依赖"><a href="#下载依赖" class="headerlink" title="下载依赖"></a>下载依赖</h3><pre><code class="text">yarn add -D typescript
yarn add -D webpack webpack-cli
yarn add -D webpack-dev-server
yarn add -D html-webpack-plugin clean-webpack-plugin
yarn add -D ts-loader
yarn add -D cross-env
</code></pre>
<h3 id="入口JS-src-main-ts"><a href="#入口JS-src-main-ts" class="headerlink" title="入口JS: src/main.ts"></a>入口JS: src/main.ts</h3><pre><code class="typescript">// import &#39;./01_helloworld&#39;

document.write(&#39;Hello Webpack TS!&#39;)
</code></pre>
<h3 id="index页面-public-index-html"><a href="#index页面-public-index-html" class="headerlink" title="index页面: public/index.html"></a>index页面: public/index.html</h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;webpack &amp; TS&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="build-webpack-config-js"><a href="#build-webpack-config-js" class="headerlink" title="build/webpack.config.js"></a>build/webpack.config.js</h3><pre><code class="javascript">const &#123;CleanWebpackPlugin&#125; = require(&#39;clean-webpack-plugin&#39;)
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;)
const path = require(&#39;path&#39;)

const isProd = process.env.NODE_ENV === &#39;production&#39; // 是否生产环境

function resolve (dir) &#123;
  return path.resolve(__dirname, &#39;..&#39;, dir)
&#125;

module.exports = &#123;
  mode: isProd ? &#39;production&#39; : &#39;development&#39;,
  entry: &#123;
    app: &#39;./src/main.ts&#39;
  &#125;,

  output: &#123;
    path: resolve(&#39;dist&#39;),
    filename: &#39;[name].[contenthash:8].js&#39;
  &#125;,

  module: &#123;
    rules: [
      &#123;
        test: /\.tsx?$/,
        use: &#39;ts-loader&#39;,
        include: [resolve(&#39;src&#39;)]
      &#125;
    ]
  &#125;,

  plugins: [
    new CleanWebpackPlugin(&#123;
    &#125;),

    new HtmlWebpackPlugin(&#123;
      template: &#39;./public/index.html&#39;
    &#125;)
  ],

  resolve: &#123;
    extensions: [&#39;.ts&#39;, &#39;.tsx&#39;, &#39;.js&#39;]
  &#125;,

  devtool: isProd ? &#39;cheap-module-source-map&#39; : &#39;cheap-module-eval-source-map&#39;,

  devServer: &#123;
    host: &#39;localhost&#39;, // 主机名
    stats: &#39;errors-only&#39;, // 打包日志输出输出错误信息
    port: 8081,
    open: true
  &#125;,
&#125;
</code></pre>
<h3 id="配置打包命令"><a href="#配置打包命令" class="headerlink" title="配置打包命令"></a>配置打包命令</h3><pre><code class="text">&quot;dev&quot;: &quot;cross-env NODE_ENV=development webpack-dev-server --config build/webpack.config.js&quot;,
&quot;build&quot;: &quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot;
</code></pre>
<h3 id="运行与打包"><a href="#运行与打包" class="headerlink" title="运行与打包"></a>运行与打包</h3><pre><code class="text">yarn dev
yarn build
</code></pre>
<p>-</p>
<p>-</p>
<h1 id="webpack-Vue"><a href="#webpack-Vue" class="headerlink" title="webpack + Vue"></a>webpack + Vue</h1><h3 id="下载yarn"><a href="#下载yarn" class="headerlink" title="下载yarn"></a>下载yarn</h3><p>下载地址:  <a target="_blank" rel="noopener" href="https://yarn.bootcss.com/docs/install/#windows-stable">https://yarn.bootcss.com/docs/install/#windows-stable</a> </p>
<ul>
<li><p>mac - 通过homebrew安装</p>
<ul>
<li><p>mac如果没安装过homeBrew先运行这个命令</p>
<pre><code class="bash">/usr/bin/ruby -e &quot;$(curl -fsSL http://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install)&quot;
</code></pre>
</li>
</ul>
</li>
<li><p>上面命令不行: 试试这个: curl -o- -L <a target="_blank" rel="noopener" href="https://yarnpkg.com/install.sh">https://yarnpkg.com/install.sh</a> | bash (直接安装yarn)</p>
</li>
</ul>
<h3 id="使用yarn"><a href="#使用yarn" class="headerlink" title="使用yarn"></a>使用yarn</h3><p>与npm类似,</p>
<pre><code class="bash"># 1. 初始化, 得到package.json文件(终端路径所在文件夹下)
yarn init

# 2. 添加依赖(下包)
# 命令: yarn add [package]
# 命令: yarn add [package]@[version]
yarn add jquery
yarn add jquery@3.5.1

# 3. 移除包
# 命令: yarn remove [package]
yarn remove jquery
             
# 4. 安装项目全部依赖(一般拿到别人的项目时, 缺少node_modules)          
yarn
# 会根据当前项目package.json记录的包名和版本, 全部下载到当前工程中

# 5. 全局
# 安装: yarn global add [package]
# 卸载: yarn global remove [package]
# 注意: global一定在add左边
yarn global add @vue/cli
</code></pre>
<h3 id="webpack基础使用"><a href="#webpack基础使用" class="headerlink" title="webpack基础使用"></a>webpack基础使用</h3><p>默认入口: ./src/index.js</p>
<p>默认出口: ./dist/main.js</p>
<p>==注意:路径上, 文件夹, 文件名不能叫webpack/其他已知的模块名==</p>
<ol>
<li><p>初始化包环境</p>
<pre><code class="bash">yarn init
</code></pre>
</li>
<li><p>安装依赖包</p>
<pre><code class="bash">yarn add webpack webpack-cli -D
</code></pre>
</li>
<li><p>配置scripts(自定义命令)</p>
<pre><code class="bash">scripts: &#123;
    &quot;build&quot;: &quot;webpack&quot;
&#125;
== &#123;
    &quot;dev&quot; :&quot;webpack&quot;
&#125;
      #npm run dev
</code></pre>
</li>
<li><p>新建目录src</p>
</li>
<li><p>新建src/add/add.js - 定义求和函数导出（按需导出和导入）</p>
<pre><code class="js">export const addFn = (a, b) =&gt; a + b
</code></pre>
</li>
<li><p>新建src/index.js导入使用</p>
<pre><code class="js">import &#123;addFn&#125; from &#39;./add/add&#39;

console.log(addFn(10, 20));

//import &#123;addFn as &quot;别名&quot;&#125; from &#39;./add/add&#39;
</code></pre>
</li>
<li><p>运行打包命令</p>
<pre><code class="bash">yarn build
#或者 npm run build
</code></pre>
</li>
</ol>
<blockquote>
<p>总结: src并列处, 生成默认dist目录和打包后默认main.js文件</p>
</blockquote>
<h3 id="webpack-入口和出口"><a href="#webpack-入口和出口" class="headerlink" title="webpack-入口和出口"></a>webpack-入口和出口</h3><blockquote>
<p>目标: 告诉webpack从哪开始打包, 打包后输出到哪里</p>
</blockquote>
<p>默认入口: ./src/index.js</p>
<p>默认出口: ./dist/main.js</p>
<p>webpack配置 - webpack.config.js(默认)</p>
<ol>
<li>新建src并列处, webpack.config.js</li>
<li>填入配置项</li>
</ol>
<pre><code class="js">const path = require(&quot;path&quot;)

module.exports = &#123;
    entry: &quot;./src/main.js&quot;, // 入口
    output: &#123; 
        path: path.join(__dirname, &quot;dist&quot;), // 出口路径
        filename: &quot;bundle.js&quot; // 出口文件名
    &#125;
&#125;
</code></pre>
<p>在src/main.js引入jquery</p>
<pre><code class="bash">yarn add jquery
</code></pre>
<p> 引入jquery</p>
<pre><code class="js">import $ from &#39;jquery&#39;
</code></pre>
<p>html引用js （打包生成后的js)</p>
<pre><code class="html">&lt;script src=&quot;../dist/bundle.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h3 id="加载器-处理css文件"><a href="#加载器-处理css文件" class="headerlink" title="加载器 - 处理css文件"></a>加载器 - 处理css文件</h3><blockquote>
<p> loaders加载器, 可让webpack处理其他类型的文件, 打包到js中</p>
</blockquote>
<p>原因: webpack默认只认识 js 文件和 json文件</p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/style-loader/">style-loader文档</a></p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/css-loader/">css-loader文档</a></p>
<ol>
<li><p>安装依赖</p>
<pre><code>yarn add style-loader css-loader -D
</code></pre>
</li>
<li><p>webpack.config.js 配置</p>
<pre><code class="js">const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;)

module.exports = &#123;
    // ...其他代码
    module: &#123; 
        rules: [ // loader的规则
          &#123;
            test: /\.css$/, // 匹配所有的css文件
            // use数组里从右向左运行
            // 先用 css-loader 让webpack能够识别 css 文件的内容并打包
            // 再用 style-loader 将样式, 把css插入到dom中
            use: [ &quot;style-loader&quot;, &quot;css-loader&quot;]
          &#125;
        ]
    &#125;
&#125;
</code></pre>
</li>
<li><p>新建src/css/li.css - 去掉li默认样式</p>
<pre><code class="css">ul, li&#123;
    list-style: none;
&#125;
</code></pre>
</li>
<li><p>引入到main.js (因为这里是入口需要产生关系, 才会被webpack找到打包起来)</p>
<pre><code class="js">import &quot;./css/index.css&quot;
</code></pre>
<blockquote>
<p>引到入口, 才会被webpack打包, css打包进js中, 然后被嵌入在style标签插入dom上</p>
</blockquote>
</li>
</ol>
<h3 id="加载器-处理less文件"><a href="#加载器-处理less文件" class="headerlink" title="加载器 - 处理less文件"></a>加载器 - 处理less文件</h3><blockquote>
<p>目标: less-loader让webpack处理less文件, less模块翻译less代码</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/less-loader/">less-loader文档</a></p>
<ol>
<li><p>下载依赖包</p>
<pre><code class="bash">yarn add less less-loader -D
</code></pre>
</li>
<li><p>webpack.config.js 配置</p>
<pre><code class="js">module: &#123;
  rules: [ // loader的规则
    // ...省略其他
    &#123;
        test: /\.less$/,
        // 使用less-loader, 让webpack处理less文件, 内置还会用less翻译less代码成css内容
        use: [ &quot;style-loader&quot;, &quot;css-loader&quot;, &#39;less-loader&#39;]
    &#125;
  ]
&#125;
</code></pre>
</li>
<li><p>src/less/index.less  - 设置li字体大小24px</p>
<pre><code class="less">@size:24px;

ul, li&#123;
    font-size: @size
&#125;
</code></pre>
</li>
<li><p>引入到main.js中</p>
<pre><code class="js">import &quot;./less/index.less&quot;
</code></pre>
</li>
<li><p>打包运行dist/index.html 观察效果</p>
</li>
</ol>
<blockquote>
<p>总结: 只要找到对应的loader加载器, 就能让webpack处理不同类型文件</p>
</blockquote>
<h3 id="加载器-处理图片文件"><a href="#加载器-处理图片文件" class="headerlink" title="加载器 - 处理图片文件"></a>加载器 - 处理图片文件</h3><blockquote>
<p>目标: 用asset module方式(webpack5版本新增)</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/guides/asset-modules/">asset module文档</a></p>
<p>如果使用的是webpack5版本的, 直接配置在webpack.config.js - 的 rules里即可</p>
<pre><code class="js">&#123;
    test: /\.(png|jpg|gif|jpeg)$/i,
    type: &#39;asset&#39;
&#125;
</code></pre>
<p>如果你用的是webpack4及以前的, 请使用者里的配置</p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/url-loader/">url-loader文档</a></p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/file-loader/">file-loader文档</a></p>
<ol>
<li><p>下载依赖包</p>
<pre><code class="bash">yarn add url-loader file-loader -D
</code></pre>
</li>
<li><p>webpack.config.js 配置</p>
<pre><code class="js">&#123;
  test: /\.(png|jpg|gif|jpeg)$/i,
  use: [
    &#123;
      loader: &#39;url-loader&#39;, // 匹配文件, 尝试转base64字符串打包到js中
      // 配置limit, 超过8k, 不转, file-loader复制, 随机名, 输出文件
      options: &#123;
        limit: 8 * 1024,
      &#125;,
    &#125;,
  ],
&#125;
</code></pre>
<p>图片转成 base64 字符串</p>
<ul>
<li>好处就是浏览器不用发请求了，直接可以读取</li>
<li>坏处就是如果图片太大，再转<code>base64</code>就会让图片的体积增大 30% 左右</li>
</ul>
</li>
<li><p>src/assets/准备老师发的2个图文件</p>
</li>
<li><p>在css/less/index.less - 把小图片用做背景图</p>
<pre><code class="less">body&#123;
    background: url(../assets/logo_small.png) no-repeat center;
&#125;
</code></pre>
</li>
<li><p>在src/main.js - 把大图插入到创建的img标签上, 添加body上显示</p>
<pre><code class="js">// 引入图片-使用
import imgUrl from &#39;./assets/1.gif&#39;
const theImg = document.createElement(&quot;img&quot;)
theImg.src = imgUrl
document.body.appendChild(theImg)
</code></pre>
</li>
<li><p>打包运行dist/index.html观察2个图片区别</p>
</li>
</ol>
<blockquote>
<p>总结:  url-loader 把文件转base64 打包进js中, 会有30%的增大, file-loader 把文件直接复制输出</p>
</blockquote>
<h3 id="webpack加载文件优缺点"><a href="#webpack加载文件优缺点" class="headerlink" title="webpack加载文件优缺点"></a>webpack加载文件优缺点</h3><p>图片转成 base64 字符串</p>
<ul>
<li>好处就是浏览器不用发请求了，直接可以读取</li>
<li>坏处就是如果图片太大，再转<code>base64</code>就会让图片的体积增大 30% 左右</li>
</ul>
<h3 id="加载器-处理字体文件"><a href="#加载器-处理字体文件" class="headerlink" title="加载器 - 处理字体文件"></a>加载器 - 处理字体文件</h3><blockquote>
<p>目标: 用asset module技术, asset/resource直接输出到dist目录下</p>
</blockquote>
<p>webpack5使用这个配置</p>
<pre><code class="js">&#123; // webpack5默认内部不认识这些文件, 所以当做静态资源直接输出即可
    test: /\.(eot|svg|ttf|woff|woff2)$/,
    type: &#39;asset/resource&#39;,
    generator: &#123;
        filename: &#39;font/[name].[hash:6][ext]&#39;
    &#125;
&#125;
</code></pre>
<p>webpack4及以前使用下面的配置</p>
<ol>
<li><p>webpack.config.js - 准备配置</p>
<pre><code class="js"> &#123; // 处理字体图标的解析
     test: /\.(eot|svg|ttf|woff|woff2)$/,
         use: [
             &#123;
                 loader: &#39;url-loader&#39;,
                 options: &#123;
                     limit: 2 * 1024,
                     // 配置输出的文件名
                     name: &#39;[name].[ext]&#39;,
                     // 配置输出的文件目录
                     outputPath: &quot;fonts/&quot;
                 &#125;
             &#125;
         ]
 &#125;
</code></pre>
</li>
<li><p>src/assets/ - 放入字体库fonts文件夹</p>
</li>
<li><p>在main.js引入iconfont.css</p>
<pre><code class="js">// 引入字体图标文件
import &#39;./assets/fonts/iconfont.css&#39;
</code></pre>
</li>
<li><p>在public/index.html使用字体图标样式</p>
<pre><code class="html">&lt;i class=&quot;iconfont icon-weixin&quot;&gt;&lt;/i&gt;
</code></pre>
</li>
<li><p>执行打包命令-观察打包后网页效果</p>
</li>
</ol>
<blockquote>
<p>总结: url-loader和file-loader 可以打包静态资源文件</p>
</blockquote>
<h3 id="加载器-处理高版本js语法"><a href="#加载器-处理高版本js语法" class="headerlink" title="加载器 - 处理高版本js语法"></a>加载器 - 处理高版本js语法</h3><blockquote>
<p>目标: 让webpack对高版本 的js代码, 降级处理后打包</p>
</blockquote>
<p>写代码演示: 高版本的js代码(箭头函数), 打包后, 直接原封不动打入了js文件中, 遇到一些低版本的浏览器就会报错</p>
<p>原因: <strong>webpack 默认仅内置了 模块化的 兼容性处理</strong>   <code>import  export</code></p>
<p>babel 的介绍 =&gt; 用于处理高版本 js语法 的兼容性  <a target="_blank" rel="noopener" href="https://www.babeljs.cn/">babel官网</a></p>
<p>解决: 让webpack配合babel-loader 对js语法做处理</p>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/babel-loader/">babel-loader文档</a></p>
<ol>
<li><p>安装包</p>
<pre><code class="bash">yarn add -D babel-loader @babel/core @babel/preset-env
</code></pre>
</li>
<li><p>配置规则</p>
<pre><code class="js">module: &#123;
  rules: [
    &#123;
        test: /\.js$/,
        exclude: /(node_modules|bower_components)/,
        use: &#123;
            loader: &#39;babel-loader&#39;,
            options: &#123;
                presets: [&#39;@babel/preset-env&#39;] // 预设:转码规则(用bable开发环境本来预设的)
            &#125;
        &#125;
    &#125;
  ]
&#125;
</code></pre>
</li>
<li><p>在main.js中使用箭头函数(高版本js)</p>
<pre><code class="js">// 高级语法
const fn = () =&gt; &#123;
  console.log(&quot;你好babel&quot;);
&#125;
console.log(fn) // 这里必须打印不能调用/不使用, 不然webpack会精简成一句打印不要函数了/不会编译未使用的代码
// 没有babel集成时, 原样直接打包进lib/bundle.js
// 有babel集成时, 会翻译成普通函数打包进lib/bundle.js
</code></pre>
</li>
<li><p>打包后观察lib/bundle.js - 被转成成普通函数使用了 - 这就是babel降级翻译的功能</p>
</li>
</ol>
<blockquote>
<p>总结: babel-loader 可以让webpack 对高版本js语法做降级处理后打包</p>
</blockquote>
<h3 id="webpack-dev-server自动刷新"><a href="#webpack-dev-server自动刷新" class="headerlink" title="webpack-dev-server自动刷新"></a>webpack-dev-server自动刷新</h3><blockquote>
<p>目标: 启动本地服务, 可实时更新修改的代码, 打包<strong>变化代码</strong>到内存中, 然后直接提供端口和网页访问</p>
</blockquote>
<ol>
<li><p>下载包</p>
<pre><code class="bash">yarn add webpack-dev-server -D
</code></pre>
</li>
<li><p>配置自定义命令</p>
<pre><code class="js">scripts: &#123;
    &quot;build&quot;: &quot;webpack&quot;,
    &quot;serve&quot;: &quot;webpack serve&quot;
&#125;
</code></pre>
</li>
<li><p>运行命令-启动webpack开发服务器</p>
<pre><code class="bash">yarn serve
#或者 npm run serve
</code></pre>
</li>
</ol>
<blockquote>
<p>以后改了src下的资源代码, 就会直接更新到内存打包, 然后反馈到浏览器上了</p>
</blockquote>
<h3 id="webpack-dev-server配置"><a href="#webpack-dev-server配置" class="headerlink" title="webpack-dev-server配置"></a>webpack-dev-server配置</h3><ol>
<li><p>在webpack.config.js中添加服务器配置</p>
<p>更多配置参考这里: <a target="_blank" rel="noopener" href="https://webpack.docschina.org/configuration/dev-server/#devserverafter">https://webpack.docschina.org/configuration/dev-server/#devserverafter</a></p>
<pre><code class="js">module.exports = &#123;
    // ...其他配置
    devServer: &#123;
      port: 3000 // 端口号
    &#125;
&#125;
</code></pre>
</li>
</ol>

                </div>

                <div class="menuShow">
                    <svg t="1663413277234" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2403" width="24" height="24">
                        <path
                            d="M640 192H224c-17.7 0-32-14.3-32-32s14.3-32 32-32h416c17.7 0 32 14.3 32 32s-14.3 32-32 32zM960 544H224c-17.7 0-32-14.3-32-32s14.3-32 32-32h736c17.7 0 32 14.3 32 32s-14.3 32-32 32zM640 896H224c-17.7 0-32-14.3-32-32s14.3-32 32-32h416c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 192H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 544H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32zM96 896H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32z"
                            fill="#707070" p-id="2404" data-spm-anchor-id="a313x.7781069.0.i0" class="selected"></path>
                    </svg>
                </div>
                <div class="top">
                    <svg width="8" height="14" viewBox="0 0 8 14">
                        <path d="M7 1L1 7l6 6" stroke="#fff" stroke-width="2" fill="none" fill-rule="evenodd"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
    </div>
    <div class="menu">
        <ul>
        </ul>
    </div>
</section>
<script src="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//js/nav.js"></script>
<!-- 
<script src="/js/nav.js"></script>
 -->
                                        <div class="footer">
    <span>Copyright © 2022 iLx1</span>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//css/nord.css" type="text/css" />
<script src="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/iLx11/iLx11.github.io//js/highlightjs-line-numbers.js"></script>

<!-- 
<link rel="stylesheet" href="/css/nord.css">

    
<script src="/js/highlight.min.js"></script>

        
<script src="/js/highlightjs-line-numbers.js"></script>
 -->

<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
            </div>
        </div>
        <script>
            const loader = document.querySelector('.load');
            const paper = document.querySelector('.paper');
            const ch_span = document.querySelector('.load .h-mes>#chs');
            const no_wait = document.querySelector('.load #noWait');
    
            const ch_array = ['" 或许再等一会.. "', '" 等待是为了更好的阅读体验 "', '" 就快加载完了 "', '" 还差一点... "', '" 感谢你的坚持 ! "']
            let i = 0, j = 0;
            var show_main = setInterval(() => {
                ch_span.innerHTML = ch_array[i];
                i > 3 ? i = 0 : i ++;
                j > 1 ? no_wait.style.display = 'block' : j ++;
            }, 1800);
            // console.log(23542365)
            window.addEventListener('load',showMain);
            no_wait.addEventListener('click', showMain);
    
            function showMain() {
                loader.style.display = 'none';
                paper.style.display = 'block';
                show_main = null;
                clearInterval(show_main);
                console.log(1)
            }
        </script>
    </body>
</html>